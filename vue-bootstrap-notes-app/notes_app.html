<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ó–∞–º–µ—Ç–∫–∏</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="./styles/notes_extra_styles.css" rel="stylesheet" />
  </head>
  <body>
    <div id="app" class="container mt-4">
      <div class="row">
        <div class="col-md-6">
          <h2>–ó–∞–º–µ—Ç–∫–∏</h2>

          <!-- –§–æ—Ä–º–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏ -->
          <form @submit.prevent="addNote">
            <div class="mb-3">
              <label for="noteTitle" class="form-label">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–º–µ—Ç–∫–∏:</label>
              <input
                v-model="newNote.title"
                type="text"
                class="form-control"
                id="noteTitle"
                required
              />
            </div>
            <div class="mb-3">
              <label for="noteDescription" class="form-label"
                >–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:</label
              >
              <textarea
                v-model="newNote.description"
                class="form-control"
                id="noteDescription"
                rows="3"
                required
              ></textarea>
            </div>
            <div class="mb-3">
              <label for="priority" class="form-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</label>
              <select
                v-model="newNote.priority"
                class="form-select"
                id="priority"
                required
              >
                <option value="low">–ù–∏–∑–∫–∏–π</option>
                <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                <option value="high">–í—ã—Å–æ–∫–∏–π</option>
              </select>
            </div>
            <div class="mb-3">
              <label class="form-check-label"
                >–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è:
                <input
                  v-model="newNote.isImportant"
                  type="checkbox"
                  class="form-check-input"
                />
              </label>
            </div>
            <div class="mb-3">
              <label for="status" class="form-label">–°—Ç–∞—Ç—É—Å:</label>
              <div>
                <label class="form-check-label">
                  <input
                    v-model="newNote.status"
                    type="radio"
                    class="form-check-input"
                    value="–ü—Ä–∏–Ω—è—Ç—å –∫ —Å–≤–µ–¥–µ–Ω–∏—é"
                  />
                  –ü—Ä–∏–Ω—è—Ç—å –∫ —Å–≤–µ–¥–µ–Ω–∏—é
                </label>
                <label class="form-check-label">
                  <input
                    v-model="newNote.status"
                    type="radio"
                    class="form-check-input"
                    value="–°–¥–µ–ª–∞—Ç—å"
                  />
                  –°–¥–µ–ª–∞—Ç—å
                </label>
                <label class="form-check-label">
                  <input
                    v-model="newNote.status"
                    type="radio"
                    class="form-check-input"
                    value="–°–¥–µ–ª–∞—Ç—å –ø–æ–∑–∂–µ"
                  />
                  –°–¥–µ–ª–∞—Ç—å –ø–æ–∑–∂–µ
                </label>
              </div>
            </div>
            <button type="submit" class="btn btn-primary">
              –î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É
            </button>
          </form>

          <hr />

          <!-- –°–ø–∏—Å–æ–∫ –∑–∞–º–µ—Ç–æ–∫ -->
          <ul class="list-group">
            <li
              v-for="(note, index) in sortedNotes"
              :key="index"
              class="list-group-item"
            >
              <h4 class="mb-1">
                {{ note.title }}
                <span v-if="note.isImportant" class="badge bg-danger"
                  >–í–∞–∂–Ω–∞—è</span
                >
              </h4>
              <p class="mb-1">{{ note.description }}</p>
              <small>
                –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: {{ orderNames[note.priority] }}
                <br />
                –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: {{ formatDateTime(note.createdAt) }}
                <br />
                –°—Ç–∞—Ç—É—Å: {{ note.status }}
              </small>
              <button
                @click="removeNote(index)"
                class="btn btn-sm btn-danger float-end"
              >
                üóëÔ∏è
              </button>
            </li>
          </ul>

          <!-- –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö –≤ localStorage -->
          <button @click="resetData" class="btn btn-warning mt-3">
            –°–±—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
          </button>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="./scripts/notes.vue"></script>
  </body>
</html>
